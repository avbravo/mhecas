<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core" xmlns:pm="http://primefaces.org/mobile" xmlns:p="http://primefaces.org/ui">

    <f:view renderKitId="PRIMEFACES_MOBILE" >
    <h:head>
        <f:facet name="first">
            <meta content='text/html; charset=UTF-8' http-equiv="Content-Type"/>
            <title>HECAS</title>
        </f:facet>
         <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true" />
         <h:outputScript library="primefaces" name="gmap/gmap.js" />
            <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
            <script type="text/javascript">
                function findMe() {
                    navigator.geolocation.getCurrentPosition(
                        function(position) {
                            var map = gmap.getMap(),
                            latlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
 
                            map.setCenter(latlng);
 
                            var marker = new google.maps.Marker({
                                position: latlng
                            });
 
                            marker.setMap(map);
                        },
                        function(error) {
                            alert(error.message);
                        },
                        {
                           enableHighAccuracy: true
                        });
                }
 
            </script>
    </h:head>

    <h:body>

        <pm:page id="main">
            <pm:header title="HECAS">   </pm:header>
            <pm:content>
   <pm:content>
                <p:gmap center="41.381542, 2.122893" zoom="15" type="HYBRID" style="width:100%;height:15em" widgetVar="gmap"/>
 
                <p:separator />
 
                <p:button  value="My Location" onclick="findMe()"/>
            </pm:content>
                
            </pm:content>
            <pm:footer title=""></pm:footer>
        </pm:page>
       
    </h:body>

</f:view>
</html>

